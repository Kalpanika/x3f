TODO

--------------------------------------------------------------------
REFACTORING
--------------------------------------------------------------------

* color/plane -> layer
  Simple naming fix. A layer should always be called a layer.
  The layers might be called colors after converting to RGB.

* Better error handling.


--------------------------------------------------------------------
CAMF AND OTHER FILE FORMAT ISSUES
--------------------------------------------------------------------

* The CAMF matrix data has the dimensions in the description out of
  order, at least for older cameras. What does that mean for the
  stored data? Does that follow the order or the index n in the info?

* Signed vs unsigned for CAMF matrix data ?

* Different names for the same property list, e.g.
  WhiteBalanceColorCorrection.

* Real lookup of matrix names, via property lists.

* Wrong file format for Quattro, e.g. white_balance is in other place.

* We cannot get max raw values correctly.

* Quattro probably also needs a min value.

* Extended types ?

* Double instead of float ?

--------------------------------------------------------------------
SMALL THINGS
--------------------------------------------------------------------

* Default write in curent directory.

* Define output directory.

* Define output file name.

* Write to foo.tiff.parts and then rename to foo.tiff. 

* Logic for getting thumbs images is wrong. There might be two
  and they might be of same type but different size.

* Expanding non square image data.


--------------------------------------------------------------------
COLOR AND CONVERSION
--------------------------------------------------------------------

* Support older (SD14 and older) file format for color conversion.
  WBCorrection_<WB> and CamToXYZ_Flash.

* What connection space is used in TRUE engine? Older is
  CIE XYZ and TRUE uses some kind of RGB. We are using CIE
  RGB now. We also convert D50 to D65. Are those right
  choices?

* Nonlinear coding of output.

* How to handle the problem with clipped (overexposed) input.

* Scaling. Why is the image dark?

* Auto exposure correction?

* ColorModeCompensations etc

* Quattro ColorTemp is computed otherwise than other wb

* There are also more matrices for color for Quattro

* Contrast/(Sharpness)/Saturation

* Crop to image rectangle

* Noise!!

--------------------------------------------------------------------
COLOR AND CONVERSION (ADVANCED)
--------------------------------------------------------------------

* Lots of matrices with fault info? What to do?

* Lookup tables ?


--------------------------------------------------------------------
LONG TERM
--------------------------------------------------------------------

* Understanding important meta data

* Making a usable color correct image

* Making a usable B&W image


--------------------------------------------------------------------
DOCUMENTATION
--------------------------------------------------------------------

* Document the format
